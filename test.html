<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>terminal.js manual test</title>
  <script src="terminal.js"></script>
  <style>
      .customized-line {
          font-weight: bold;
          background-color: #ff9292;
          color: black;
      }
  </style>
</head>
<body>
<h1>terminal.js manual test suite</h1>

<div id="terminal-1"></div>
<div id="terminal-2-container"></div>
<div id="terminal-3"></div>
<div id="terminal-4"></div>
<br/>
<br/>

<script>
  let t1 = new Terminal("terminal-1")
  t1.setHeight("180px")
    .setWidth('600px')

  t1.print(`Hello, world! I'm terminal-1`)
    .setPrompt('> ')
    .input('Whats your name?', (input) => {
      t1.print(`Welcome, ${input}`)

      t2Element = document.createElement('div');
      t2Element.id = "terminal-2"
      let t2 = new Terminal(t2Element)
      t2.setHeight("150px")
        .setWidth('650px')
        .setBackgroundColor('blue')

      document.getElementById("terminal-2-container").appendChild(t2.html);

      t2.sleep(200, () => {
        t2.print('Hello again! I\'m terminal-2.')
          .print("I'll ask you a few tasks to ensure the module is still working fine.")
          .pause('PRESS ANY KEY IF THAT\'S OK FOR YOU', () => {
            t2.print(`Great!`)
              .write("I can write...")
              .sleep(800, () => {
                t2.write('on a single line. ')
                  .sleep(800, () => {
                    t2.write("Isn't it?")
                      .sleep(800, () => {
                        t2.newLine()
                          .newLine()
                          .print("But also break a few lines")
                          .newLine()
                          .newLine()
                          .newLine()
                          .print("Impressive.. uh?")
                          .setBlinking(false)
                          .sleep(500, () => {
                            t3.setVisible(true)
                              .setBlinking(true)
                              .print("Hi, I'm terminal-3.")
                              .printHTML("<strong class='customized-line'>Here's an HTML tag.</strong> <a href='https://github.com/francoisburdy/terminal-js'>Github Link</a>")
                              .password('Enter password (a fake one! I\'ll display it):', password => {
                                t3.print(`Your password is: ${password}`)
                                t4.setVisible(true).focus();
                              })
                          })
                      })
                  })
              })
          })
      })
    })

  var t3 = new Terminal('terminal-3')

  t3.setHeight("120px")
    .setWidth('550px')
    .setBlinking(false)
    .setBackgroundColor('#07143b')
    .setVisible(false)


  var t4 = new Terminal('terminal-4')
  t4.setHeight("180px")
    .setWidth('700px')
    .setBackgroundColor('blue')
    .print("Hi, I'm terminal-4")
    .setVisible(false)
    .setPrompt('$ ')
    .expect(['done', 'stop'], 'I expect you to type any command that is not "done" or "stop", multiple times. Can you do that?', 'Thank you. You can do that again, or use "stop" to proceed.', (command) => {
      t4.clear()
        .setBackgroundColor("#ffc700")
        .setTextColor("black")
        .print("Thanks!")
        .setPrompt('> ')
        .confirm("Now check the DevTools console, there should be no error. Is that ok?", (didConfirm) => {
          if (didConfirm) {
            t4.setBackgroundColor("#00c142")
              .setTextSize("1.5em")
              .clear()
              .print("Amazing! Tests passed. Good bye!")
          } else {
            t4
              .setBackgroundColor('red')
              .setTextColor("white")
              .printHTML("<strong>Damned.. would you please open an issue on the <a href='https://github.com/francoisburdy/terminal-js'>GitHub repo</a>?</strong>")
          }

        })


    })

  t1.focus()

</script>

</body>
</html>
